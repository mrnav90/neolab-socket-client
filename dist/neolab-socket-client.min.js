!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("NeoLabSocketClient",[],e):"object"==typeof exports?exports.NeoLabSocketClient=e():t.NeoLabSocketClient=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=r(1),i=n(o);t.exports=i.default},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,i;Object.defineProperty(e,"__esModule",{value:!0}),o=r(2),i=function t(e){return n(this,t),this.connection=(0,o.connect)(e),this.connection},e.default=i},function(t,e,r){var n=r(3),o=r(8);t.exports.SCSocketCreator=o,t.exports.SCSocket=n,t.exports.Emitter=r(11),t.exports.connect=function(t){return o.connect(t)},t.exports.destroy=function(t){return o.destroy(t)},t.exports.connections=o.connections,t.exports.version="8.0.1"},function(t,e,r){(function(e){!function(e,r){t.exports=r()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=r(1),i=n(o);t.exports=i.default},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i,s,a,c;Object.defineProperty(e,"__esModule",{value:!0}),i=function(){function t(t,e){var r,n;for(r=0;r<e.length;r++)n=e[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=r(2),a=n(s),c=function(){function t(e){o(this,t),this.options=e,this.socket=null}return i(t,[{key:"connect",value:function(){return this.socket||(this.socket=new a.default(this.options).connect),this.socket}}]),t}(),e.default=c},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,i;Object.defineProperty(e,"__esModule",{value:!0}),o=r(3),i=function t(e){n(this,t),o.Emitter.call(this);var r=new o.Emitter;this.emit=r,this.connect=(0,o.connect)(e),this.connect.on("connect",function(t){r.emit("neolab:socket-connected",t)}),this.connect.on("connecting",function(){r.emit("neolab:socket-connecting")}),this.connect.on("authenticate",function(){r.emit("neolab:socket-authenticated")}),this.connect.on("deauthenticate",function(){r.emit("neolab:socket-deauthenticated")}),this.connect.on("disconnect",function(){r.emit("neolab:socket-disconnected")}),this.connect.on("error",function(t){r.emit("neolab:socket-failed",t)})},e.default=i},function(t,e,r){var n=r(4),o=r(26);t.exports.SCSocketCreator=o,t.exports.SCSocket=n,t.exports.Emitter=r(9),t.exports.connect=function(t){return o.connect(t)},t.exports.destroy=function(t){return o.destroy(t)},t.exports.connections=o.connections,t.exports.version="8.0.1"},function(t,e,r){(function(e,n){var o=r(9),i=r(10).SCChannel,s=(r(11).Response,r(14).AuthEngine),a=r(15),c=r(16).SCTransport,u=r(17),h=r(21),f=r(23),p=r(25),l=r(12),d=l.InvalidArgumentsError,y=l.InvalidMessageError,g=l.SocketProtocolError,E=l.TimeoutError,m=l.BadConnectionError,b="undefined"!=typeof window,w=function(t){var r,n,i,c=this;o.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.connectTimeout=t.connectTimeout,this.ackTimeout=t.ackTimeout,this.channelPrefix=t.channelPrefix||null,this.disconnectOnUnload=null==t.disconnectOnUnload||t.disconnectOnUnload,this.authTokenName=t.authTokenName,this.pingTimeout=this.ackTimeout,r=Math.pow(2,31)-1,n=function(t){if(c[t]>r)throw new d("The "+t+" value provided exceeded the maximum amount allowed")},n("connectTimeout"),n("ackTimeout"),n("pingTimeout"),this._localEvents={connect:1,connectAbort:1,disconnect:1,message:1,error:1,raw:1,fail:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new h,this.channels={},this.options=t,this._cid=1,this.options.callIdGenerator=function(){return c._cid++},this.options.autoReconnect&&(null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={}),i=this.options.autoReconnectOptions,null==i.initialDelay&&(i.initialDelay=1e4),null==i.randomness&&(i.randomness=1e4),null==i.multiplier&&(i.multiplier=1.5),null==i.maxDelay&&(i.maxDelay=6e4)),null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new s,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=t.query||{},"string"==typeof this.options.query&&(this.options.query=u.parse(this.options.query)),this.options.autoConnect&&this.connect(),this._channelEmitter=new o,b&&this.disconnectOnUnload&&e.addEventListener&&(this._unloadHandler=function(){c.disconnect()},e.addEventListener("beforeunload",this._unloadHandler,!1))};w.prototype=Object.create(o.prototype),w.CONNECTING=w.prototype.CONNECTING=c.prototype.CONNECTING,w.OPEN=w.prototype.OPEN=c.prototype.OPEN,w.CLOSED=w.prototype.CLOSED=c.prototype.CLOSED,w.AUTHENTICATED=w.prototype.AUTHENTICATED="authenticated",w.UNAUTHENTICATED=w.prototype.UNAUTHENTICATED="unauthenticated",w.PENDING=w.prototype.PENDING="pending",w.ignoreStatuses=l.socketProtocolIgnoreStatuses,w.errorStatuses=l.socketProtocolErrorStatuses,w.prototype._privateEventHandlerMap={"#publish":function(t){var e=this._undecorateChannelName(t.channel),r=this.isSubscribed(e,!0);r&&this._channelEmitter.emit(e,t.data)},"#kickOut":function(t){var e=this._undecorateChannelName(t.channel),r=this.channels[e];r&&(o.prototype.emit.call(this,"kickOut",t.message,e),r.emit("kickOut",t.message,e),this._triggerChannelUnsubscribe(r))},"#setAuthToken":function(t,e){var r,n=this;t?(r=function(r){r?(e.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(t.token),e.end())},this.auth.saveToken(this.authTokenName,t.token,{},r)):e.error(new y("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){var r=this;this.auth.removeToken(this.authTokenName,function(t,n){t?(e.error(t),r._onSCError(t)):(o.prototype.emit.call(r,"removeAuthToken",n),r._changeToUnauthenticatedStateAndClearTokens(),e.end())})},"#disconnect":function(t){this.transport.close(t.code,t.data)}},w.prototype.getState=function(){return this.state},w.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},w.prototype.deauthenticate=function(t){var e=this;this.auth.removeToken(this.authTokenName,function(r,n){r?e._onSCError(r):(o.prototype.emit.call(e,"removeAuthToken",n),e.state!=e.CLOSED&&e.emit("#removeAuthToken"),e._changeToUnauthenticatedStateAndClearTokens()),t&&t(r)})},w.prototype.connect=w.prototype.open=function(){var t=this;this.state==this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,o.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new c(this.auth,this.codec,this.options),this.transport.on("open",function(e){t.state=t.OPEN,t._onSCOpen(e)}),this.transport.on("error",function(e){t._onSCError(e)}),this.transport.on("close",function(e,r){t.state=t.CLOSED,t._onSCClose(e,r)}),this.transport.on("openAbort",function(e,r){t.state=t.CLOSED,t._onSCClose(e,r,!0)}),this.transport.on("event",function(e,r,n){t._onSCEvent(e,r,n)}))},w.prototype.reconnect=function(){this.disconnect(),this.connect()},w.prototype.disconnect=function(t,e){if(t=t||1e3,"number"!=typeof t)throw new d("If specified, the code argument must be a number");this.state==this.OPEN||this.state==this.CONNECTING?this.transport.close(t,e):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},w.prototype.destroy=function(){this._unloadHandler&&e.removeEventListener("beforeunload",this._unloadHandler,!1),this.disconnect()},w.prototype._changeToUnauthenticatedStateAndClearTokens=function(){var t,e;this.authState!=this.UNAUTHENTICATED&&(t=this.authState,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,e={oldState:t,newState:this.authState},o.prototype.emit.call(this,"authStateChange",e),t==this.AUTHENTICATED&&o.prototype.emit.call(this,"deauthenticate"),o.prototype.emit.call(this,"authTokenChange",this.signedAuthToken))},w.prototype._changeToAuthenticatedState=function(t){var e,r;this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!=this.AUTHENTICATED&&(e=this.authState,this.authState=this.AUTHENTICATED,r={oldState:e,newState:this.authState,signedAuthToken:t,authToken:this.authToken},this.preparingPendingSubscriptions||this.processPendingSubscriptions(),o.prototype.emit.call(this,"authStateChange",r),o.prototype.emit.call(this,"authenticate",t)),o.prototype.emit.call(this,"authTokenChange",t)},w.prototype.decodeBase64=function(t){var r,o;return"undefined"==typeof n?r=e.atob?e.atob(t):f.decode(t):(o=new n(t,"base64"),r=o.toString("utf8")),r},w.prototype.encodeBase64=function(t){var r,o;return"undefined"==typeof n?r=e.btoa?e.btoa(t):f.encode(t):(o=new n(t,"utf8"),r=o.toString("base64")),r},w.prototype._extractAuthTokenData=function(t){var e,r=(t||"").split("."),n=r[1];if(null!=n){e=n;try{return e=this.decodeBase64(e),JSON.parse(e)}catch(t){return e}}return null},w.prototype.getAuthToken=function(){return this.authToken},w.prototype.getSignedAuthToken=function(){return this.signedAuthToken},w.prototype.authenticate=function(t,e){var r=this;this.emit("#authenticate",t,function(n,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=l.hydrateError(o.authError)):o={isAuthenticated:r.authState,authError:null},n?("BadConnectionError"!=n.name&&"TimeoutError"!=n.name&&r._changeToUnauthenticatedStateAndClearTokens(),e&&e(n,o)):r.auth.saveToken(r.authTokenName,t,{},function(n){n&&r._onSCError(n),o.isAuthenticated?r._changeToAuthenticatedState(t):r._changeToUnauthenticatedStateAndClearTokens(),e&&e(n,o)})})},w.prototype._tryReconnect=function(t){var e,r,n=this,o=this.connectAttempts++,i=this.options.autoReconnectOptions;null==t||o>0?(r=Math.round(i.initialDelay+(i.randomness||0)*Math.random()),e=Math.round(r*Math.pow(i.multiplier,o))):e=t,e>i.maxDelay&&(e=i.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout(function(){n.connect()},e)},w.prototype._onSCOpen=function(t){var e=this;this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,this.transport.pingTimeout=this.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),o.prototype.emit.call(this,"connect",t,function(){e.processPendingSubscriptions()}),this._flushEmitBuffer()},w.prototype._onSCError=function(t){var e=this;setTimeout(function(){if(e.listeners("error").length<1)throw t;o.prototype.emit.call(e,"error",t)},0)},w.prototype._suspendSubscriptions=function(){var t,e,r;for(r in this.channels)this.channels.hasOwnProperty(r)&&(t=this.channels[r],e=t.state==t.SUBSCRIBED||t.state==t.PENDING?t.PENDING:t.UNSUBSCRIBED,this._triggerChannelUnsubscribe(t,e))},w.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e,r,n,o,i,s=this._emitBuffer.head;s;)e=s.next,r=s.data,clearTimeout(r.timeout),delete r.timeout,s.detach(),s=e,n=r.callback,n&&(delete r.callback,o="Event '"+r.event+"' was aborted due to a bad connection",i=new m(o,t),n.call(r,i,r))},w.prototype._onSCClose=function(t,e,r){var n,i,s=this;this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(r?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3==t||4001==t||1005==t?this._tryReconnect(0):1e3!=t&&t<4500&&this._tryReconnect()),r?o.prototype.emit.call(s,"connectAbort",t,e):o.prototype.emit.call(s,"disconnect",t,e),w.ignoreStatuses[t]||(n=e?"Socket connection failed: "+e:"Socket connection failed for unknown reasons",i=new g(w.errorStatuses[t]||n,t),this._onSCError(i))},w.prototype._onSCEvent=function(t,e,r){var n=this._privateEventHandlerMap[t];n?n.call(this,e,r):o.prototype.emit.call(this,t,e,function(){r&&r.callback.apply(r,arguments)})},w.prototype.decode=function(t){return this.transport.decode(t)},w.prototype.encode=function(t){return this.transport.encode(t)},w.prototype._flushEmitBuffer=function(){for(var t,e,r=this._emitBuffer.head;r;)t=r.next,e=r.data,r.detach(),this.transport.emitObject(e),r=t},w.prototype._handleEventAckTimeout=function(t,e){var r,n;e&&e.detach(),delete t.timeout,r=t.callback,r&&(delete t.callback,n=new E("Event response for '"+t.event+"' timed out"),r.call(t,n,t))},w.prototype._emit=function(t,e,r){var n,o,i=this;this.state==this.CLOSED&&this.connect(),n={event:t,callback:r},o=new h.Item,this.options.cloneData?n.data=p(e):n.data=e,o.data=n,n.timeout=setTimeout(function(){i._handleEventAckTimeout(n,o)},this.ackTimeout),this._emitBuffer.append(o),this.state==this.OPEN&&this._flushEmitBuffer()},w.prototype.send=function(t){this.transport.send(t)},w.prototype.emit=function(t,e,r){null==this._localEvents[t]?this._emit(t,e,r):o.prototype.emit.call(this,t,e)},w.prototype.publish=function(t,e,r){var n={channel:this._decorateChannelName(t),data:e};this.emit("#publish",n,r)},w.prototype._triggerChannelSubscribe=function(t,e){var r,n,i=t.name;t.state!=t.SUBSCRIBED&&(r=t.state,t.state=t.SUBSCRIBED,n={channel:i,oldState:r,newState:t.state,subscriptionOptions:e},t.emit("subscribeStateChange",n),t.emit("subscribe",i,e),o.prototype.emit.call(this,"subscribeStateChange",n),o.prototype.emit.call(this,"subscribe",i,e))},w.prototype._triggerChannelSubscribeFail=function(t,e,r){var n=e.name,i=!e.waitForAuth||this.authState==this.AUTHENTICATED;e.state!=e.UNSUBSCRIBED&&i&&(e.state=e.UNSUBSCRIBED,e.emit("subscribeFail",t,n,r),o.prototype.emit.call(this,"subscribeFail",t,n,r))},w.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},w.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},w.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0==t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},w.prototype._trySubscribe=function(t){var e,r,n=this,i=!t.waitForAuth||this.authState==this.AUTHENTICATED;this.state==this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&i&&(e={noTimeout:!0},r={channel:this._decorateChannelName(t.name)},t.waitForAuth&&(e.waitForAuth=!0,r.waitForAuth=e.waitForAuth),t.data&&(r.data=t.data),t.batch&&(e.batch=!0,r.batch=!0),t._pendingSubscriptionCid=this.transport.emit("#subscribe",r,e,function(e){delete t._pendingSubscriptionCid,e?n._triggerChannelSubscribeFail(e,t,r):n._triggerChannelSubscribe(t,r)}),o.prototype.emit.call(this,"subscribeRequest",t.name,r))},w.prototype.subscribe=function(t,e){var r=this.channels[t];return r?e&&r.setOptions(e):(r=new i(t,this,e),this.channels[t]=r),r.state==r.UNSUBSCRIBED&&(r.state=r.PENDING,this._trySubscribe(r)),r},w.prototype._triggerChannelUnsubscribe=function(t,e){var r,n=t.name,i=t.state;e?t.state=e:t.state=t.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(t),i==t.SUBSCRIBED&&(r={channel:n,oldState:i,newState:t.state},t.emit("subscribeStateChange",r),t.emit("unsubscribe",n),o.prototype.emit.call(this,"subscribeStateChange",r),o.prototype.emit.call(this,"unsubscribe",n))},w.prototype._tryUnsubscribe=function(t){var e,r;this.state==this.OPEN&&(e={noTimeout:!0},t.batch&&(e.batch=!0),this._cancelPendingSubscribeCallback(t),r=this._decorateChannelName(t.name),this.transport.emit("#unsubscribe",r,e))},w.prototype.unsubscribe=function(t){var e=this.channels[t];e&&e.state!=e.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},w.prototype.channel=function(t,e){var r=this.channels[t];return r||(r=new i(t,this,e),this.channels[t]=r),r},w.prototype.destroyChannel=function(t){var e=this.channels[t];e.unwatch(),e.unsubscribe(),delete this.channels[t]},w.prototype.subscriptions=function(t){var e,r,n,o=[];for(n in this.channels)this.channels.hasOwnProperty(n)&&(e=this.channels[n],r=t?e&&(e.state==e.SUBSCRIBED||e.state==e.PENDING):e&&e.state==e.SUBSCRIBED,r&&o.push(n));return o},w.prototype.isSubscribed=function(t,e){var r=this.channels[t];return e?!!r&&(r.state==r.SUBSCRIBED||r.state==r.PENDING):!!r&&r.state==r.SUBSCRIBED},w.prototype.processPendingSubscriptions=function(){var t,e,r,n=this;this.preparingPendingSubscriptions=!1,t=[];for(e in this.channels)this.channels.hasOwnProperty(e)&&(r=this.channels[e],r.state==r.PENDING&&t.push(r));t.sort(function(t,e){var r=t.priority||0,n=e.priority||0;return r>n?-1:r<n?1:0}),t.forEach(function(t){n._trySubscribe(t)})},w.prototype.watch=function(t,e){if("function"!=typeof e)throw new d("No handler function was provided");this._channelEmitter.on(t,e)},w.prototype.unwatch=function(t,e){e?this._channelEmitter.removeListener(t,e):this._channelEmitter.removeAllListeners(t)},w.prototype.watchers=function(t){return this._channelEmitter.listeners(t)},t.exports=w}).call(e,function(){return this}(),r(5).Buffer)},function(t,e,r){(function(t){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return a(this,t,e,r)}function a(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?l(t,e,r,n):"string"==typeof e?f(t,e,r):d(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return c(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function h(t,e){if(c(e),t=i(t,e<0?0:0|y(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e,r){var n,o;if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n=0|E(e,r),t=i(t,n),o=t.write(e,r),o!==n&&(t=t.slice(0,o)),t}function p(t,e){var r,n=e.length<0?0:0|y(e.length);for(t=i(t,n),r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=p(t,e),t}function d(t,e){if(s.isBuffer(e)){var r=0|y(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?i(t,0):p(t,e);if("Buffer"===e.type&&et(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function E(t,e){var r,n;if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;if("string"!=typeof t&&(t=""+t),r=t.length,0===r)return 0;for(n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return P(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,o);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,o){function i(t,e){return 1===h?t[e]:t.readUInt16BE(e*h)}var s,a,c,u,h=1,f=t.length,p=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;h=2,f/=2,p/=2,r/=2}if(o)for(a=-1,s=r;s<f;s++)if(i(t,s)===i(e,a===-1?0:s-a)){if(a===-1&&(a=s),s-a+1===p)return a*h}else a!==-1&&(s-=s-a),a=-1;else for(r+p>f&&(r=f-p),s=r;s>=0;s--){for(c=!0,u=0;u<p;u++)if(i(t,s+u)!==i(e,u)){c=!1;break}if(c)return s}return-1}function T(t,e,r,n){var o,i,s,a;if(r=Number(r)||0,o=t.length-r,n?(n=Number(n),n>o&&(n=o)):n=o,i=e.length,i%2!==0)throw new TypeError("Invalid hex string");for(n>i/2&&(n=i/2),s=0;s<n;++s){if(a=parseInt(e.substr(2*s,2),16),isNaN(a))return s;t[r+s]=a}return s}function k(t,e,r,n){return V(z(e,t.length-r),t,r,n)}function S(t,e,r,n){return V($(e),t,r,n)}function _(t,e,r,n){return S(t,e,r,n)}function A(t,e,r,n){return V(W(e),t,r,n)}function C(t,e,r,n){return V(J(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,r))}function P(t,e,r){var n,o,i,s,a,c,u,h,f;for(r=Math.min(t.length,r),n=[],o=e;o<r;){if(i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1,o+a<=r)switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],128===(192&c)&&(f=(31&i)<<6|63&c,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],128===(192&c)&&128===(192&u)&&(f=(15&i)<<12|(63&c)<<6|63&u,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],128===(192&c)&&128===(192&u)&&128===(192&h)&&(f=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&h,f>65535&&f<1114112&&(s=f))}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=a}return O(n)}function O(t){var e,r,n=t.length;if(n<=Z)return String.fromCharCode.apply(String,t);for(e="",r=0;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return e}function B(t,e,r){var n,o="";for(r=Math.min(t.length,r),n=e;n<r;++n)o+=String.fromCharCode(127&t[n]);return o}function I(t,e,r){var n,o="";for(r=Math.min(t.length,r),n=e;n<r;++n)o+=String.fromCharCode(t[n]);return o}function U(t,e,r){var n,o,i=t.length;for((!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i),n="",o=e;o<r;++o)n+=H(t[o]);return n}function x(t,e,r){var n,o=t.slice(e,r),i="";for(n=0;n<o.length;n+=2)i+=String.fromCharCode(o[n]+256*o[n+1]);return i}function N(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function M(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Y(t,e,r,n,o){return o||M(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),tt.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return o||M(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),tt.write(t,e,r,n,52,8),r+8}function G(t){if(t=q(t).replace(K,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r,n,o,i,s;for(e=e||1/0,n=t.length,o=null,i=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function $(t){var e,r=[];for(e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function J(t,e){var r,n,o,i,s=[];for(i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,s.push(o),s.push(n);return s}function W(t){return Q.toByteArray(G(t))}function V(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function X(t){return t!==t}var Z,K,Q=r(6),tt=r(7),et=r(8);e.Buffer=s,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return a(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return u(null,t,e,r)},s.allocUnsafe=function(t){return h(null,t)},s.allocUnsafeSlow=function(t){return h(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){var r,n,o,i;if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){var r,n,o,i;if(!et(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;for(n=s.allocUnsafe(e),o=0,r=0;r<t.length;++r){if(i=t[r],!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=E,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t,e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var t,e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var t,e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,o){var i,a,c,u,h,f;if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(i=o-n,a=r-e,c=Math.min(i,a),u=this.slice(n,o),h=t.slice(e,r),f=0;f<c;++f)if(u[f]!==h[f]){i=u[f],a=h[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},s.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){var o,i;if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}if(o=this.length-e,(void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":return T(this,t,e,r);case"utf8":case"utf-8":return k(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Z=4096,s.prototype.slice=function(t,e){var r,n,o,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else for(n=e-t,r=new s(n,void 0),o=0;o<n;++o)r[o]=this[o+t];return r},s.prototype.readUIntLE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUIntBE=function(t,e,r){var n,o;for(t|=0,e|=0,r||N(t,e,this.length),
n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),tt.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),tt.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),tt.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),tt.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){var o,i,s;for(t=+t,e|=0,r|=0,n||(o=Math.pow(2,8*r)-1,D(this,t,e,r,o,0)),i=1,s=0,this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){var o,i,s;for(t=+t,e|=0,r|=0,n||(o=Math.pow(2,8*r)-1,D(this,t,e,r,o,0)),i=r-1,s=1,this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){var o,i,s,a;for(t=+t,e|=0,n||(o=Math.pow(2,8*r-1),D(this,t,e,r,o-1,-o)),i=0,s=1,a=0,this[e]=255&t;++i<r&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){var o,i,s,a;for(t=+t,e|=0,n||(o=Math.pow(2,8*r-1),D(this,t,e,r,o-1,-o)),i=r-1,s=1,a=0,this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return Y(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return Y(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){var o,i;if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r),o=n-r,this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},s.prototype.fill=function(t,e,r,n){var o,i,a,c;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length&&(o=t.charCodeAt(0),o<256&&(t=o)),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else for(a=s.isBuffer(t)?t:z(new s(t,n).toString()),c=a.length,i=0;i<r-e;++i)this[i+e]=a[i%c];return this},K=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function o(t){var e,n,o=t.length,i=r(t),s=new h(3*o/4-i),a=i>0?o-4:o,c=0;for(e=0;e<a;e+=4)n=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[c++]=n>>16&255,s[c++]=n>>8&255,s[c++]=255&n;return 2===i?(n=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[c++]=255&n):1===i&&(n=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[c++]=n>>8&255,s[c++]=255&n),s}function i(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,r){var n,o,s=[];for(o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(i(n));return s.join("")}function a(t){var e,r,n,o=t.length,i=o%3,a="",u=[],h=16383;for(r=0,n=o-i;r<n;r+=h)u.push(s(t,r,r+h>n?n:r+h));return 1===i?(e=t[o-1],a+=c[e>>2],a+=c[e<<4&63],a+="=="):2===i&&(e=(t[o-2]<<8)+t[o-1],a+=c[e>>10],a+=c[e>>4&63],a+=c[e<<2&63],a+="="),u.push(a),u.join("")}var c,u,h,f,p,l;for(e.byteLength=n,e.toByteArray=o,e.fromByteArray=a,c=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,l=f.length;p<l;++p)c[p]=f[p],u[f.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,u=c>>1,h=-7,f=r?o-1:0,p=r?-1:1,l=t[e+f];for(f+=p,i=l&(1<<-h)-1,l>>=-h,h+=a;h>0;i=256*i+t[e+f],f+=p,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=n;h>0;s=256*s+t[e+f],f+=p,h-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:(l?-1:1)*(1/0);s+=Math.pow(2,n),i-=u}return(l?-1:1)*s*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var s,a,c,u=8*i-o-1,h=(1<<u)-1,f=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?p/c:p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[r+l]=255&a,l+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+l]=255&s,l+=d,s/=256,u-=8);t[r+l-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){var r,n,o;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(r=this._callbacks["$"+t],!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){var e,r,n,o;if(this._callbacks=this._callbacks||{},e=[].slice.call(arguments,1),r=this._callbacks["$"+t],r)for(r=r.slice(0),n=0,o=r.length;n<o;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){var n=r(9),o=function(t,e,r){n.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=t,this.state=this.UNSUBSCRIBED,this.client=e,this.options=r||{},this.setOptions(this.options)};o.prototype=Object.create(n.prototype),o.prototype.setOptions=function(t){t||(t={}),this.waitForAuth=t.waitForAuth||!1,this.batch=t.batch||!1,void 0!==t.data&&(this.data=t.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(t){this.client.subscribe(this.name,t)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(t){return this.client.isSubscribed(this.name,t)},o.prototype.publish=function(t,e){this.client.publish(this.name,t,e)},o.prototype.watch=function(t){this.client.watch(this.name,t)},o.prototype.unwatch=function(t){this.client.unwatch(this.name,t)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},t.exports.SCChannel=o},function(t,e,r){var n=r(12),o=n.InvalidActionError,i=function(t,e){this.socket=t,this.id=e,this.sent=!1};i.prototype._respond=function(t){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(t))},i.prototype.end=function(t){if(this.id){var e={rid:this.id};void 0!==t&&(e.data=t),this._respond(e)}},i.prototype.error=function(t,e){var r,o;this.id&&(r=n.dehydrateError(t),o={rid:this.id,error:r},void 0!==e&&(o.data=e),this._respond(o))},i.prototype.callback=function(t,e){t?this.error(t,e):this.end(e)},t.exports.Response=i},function(t,e,r){function n(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function o(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function i(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}var v,T=r(13),k=function(){return!this}();n.prototype=Object.create(Error.prototype),o.prototype=Object.create(Error.prototype),i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:n,AuthTokenInvalidError:o,AuthTokenNotBeforeError:i,AuthTokenError:s,SilentMiddlewareBlockedError:a,InvalidActionError:c,InvalidArgumentsError:u,InvalidOptionsError:h,InvalidMessageError:f,SocketProtocolError:p,ServerProtocolError:l,HTTPServerError:d,ResourceLimitError:y,TimeoutError:g,BadConnectionError:E,BrokerError:m,ProcessExitError:b,UnknownError:w},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"},v={domain:1,domainEmitter:1,domainThrown:1},t.exports.dehydrateError=function(t,e){var r,n;if(t&&"object"==typeof t){r={message:t.message},e&&(r.stack=t.stack);for(n in t)v[n]||(r[n]=t[n])}else r="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return T(r)},t.exports.hydrateError=function(t){var e,r=null;if(null!=t)if("object"==typeof t){r=new Error(t.message);for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}else r=t;return r},t.exports.decycle=T},function(t,e){t.exports=function(t){var e=[],r=[];return function t(n,o){var i,s,a;if(!("object"!=typeof n||null===n||n instanceof Boolean||n instanceof Date||n instanceof Number||n instanceof RegExp||n instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===n)return{$ref:r[i]};if(e.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],i=0;i<n.length;i+=1)a[i]=t(n[i],o+"["+i+"]");else{a={};for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=t(n[s],o+"["+JSON.stringify(s)+"]"))}return a}return n}(t,"$")}},function(t,e){(function(e){var r=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};r.prototype._checkLocalStorageEnabled=function(){var t;try{e.localStorage,e.localStorage.setItem("__scLocalStorageTest",1),e.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},r.prototype.saveToken=function(t,r,n,o){this.isLocalStorageEnabled&&e.localStorage?e.localStorage.setItem(t,r):this._internalStorage[t]=r,o&&o(null,r)},r.prototype.removeToken=function(t,r){var n;this.loadToken(t,function(t,e){n=e}),this.isLocalStorageEnabled&&e.localStorage?e.localStorage.removeItem(t):delete this._internalStorage[t],r&&r(null,n)},r.prototype.loadToken=function(t,r){var n;n=this.isLocalStorageEnabled&&e.localStorage?e.localStorage.getItem(t):this._internalStorage[t]||null,r(null,n)},t.exports.AuthEngine=r}).call(e,function(){return this}())},function(t,e){(function(e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=function(t){var e,n=new Uint8Array(t),o=n.length,i="";for(e=0;e<o;e+=3)i+=r[n[e]>>2],i+=r[(3&n[e])<<4|n[e+1]>>4],i+=r[(15&n[e+1])<<2|n[e+2]>>6],i+=r[63&n[e+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},o=function(t,r){if(e.ArrayBuffer&&r instanceof e.ArrayBuffer)return{base64:!0,data:n(r)};if(e.Buffer){if(r instanceof e.Buffer)return{base64:!0,data:r.toString("base64")};if(r&&"Buffer"==r.type&&r.data instanceof Array){var o;return o=e.Buffer.from?e.Buffer.from(r.data):new e.Buffer(r.data),{base64:!0,data:o.toString("base64")}}}return r};t.exports.decode=function(t){if(null==t)return null;if("#1"==t||"#2"==t)return t;var e=t.toString();try{return JSON.parse(e)}catch(t){}return e},t.exports.encode=function(t){return"#1"==t||"#2"==t?t:JSON.stringify(t,o)}}).call(e,function(){return this}())},function(t,e,r){(function(e){var n,o,i,s,a,c,u=r(9),h=r(11).Response,f=r(17);e.WebSocket?(n=e.WebSocket,o=function(t,e){return new n(t)}):(n=r(20),o=function(t,e){return new n(t,null,e)}),i=r(12),s=i.TimeoutError,a=i.BadConnectionError,c=function(t,e,r){this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=r,this.connectTimeout=r.connectTimeout,this.pingTimeout=r.ackTimeout,this.callIdGenerator=r.callIdGenerator,this.authTokenName=r.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.open()},c.prototype=Object.create(u.prototype),c.CONNECTING=c.prototype.CONNECTING="connecting",c.OPEN=c.prototype.OPEN="open",c.CLOSED=c.prototype.CLOSED="closed",c.prototype.uri=function(){var t,e,r=this.options.query||{},n=this.options.secure?"wss":"ws";return this.options.timestampRequests&&(r[this.options.timestampParam]=(new Date).getTime()),r=f.encode(r),r.length&&(r="?"+r),this.options.host?t=this.options.host:(e="",this.options.port&&("wss"==n&&443!=this.options.port||"ws"==n&&80!=this.options.port)&&(e=":"+this.options.port),t=this.options.hostname+e),n+"://"+t+this.options.path+r},c.prototype.open=function(){var t,e,r=this;this.state=this.CONNECTING,t=this.uri(),e=o(t,this.options),e.binaryType=this.options.binaryType,this.socket=e,e.onopen=function(){r._onOpen()},e.onclose=function(t){var e;e=null==t.code?1005:t.code,r._onClose(e,t.reason)},e.onmessage=function(t,e){r._onMessage(t.data)},e.onerror=function(t){r.state===r.CONNECTING&&r._onClose(1006)},this._connectTimeoutRef=setTimeout(function(){r._onClose(4007),r.socket.close(4007)},this.connectTimeout)},c.prototype._onOpen=function(){var t=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake(function(e,r){e?(t._onError(e),t._onClose(4003),t.socket.close(4003)):(t.state=t.OPEN,u.prototype.emit.call(t,"open",r),t._resetPingTimeout())})},c.prototype._handshake=function(t){var e=this;this.auth.loadToken(this.authTokenName,function(r,n){if(r)t(r);else{var o={force:!0};e.emit("#handshake",{authToken:n},o,function(e,r){r&&(r.authToken=n,r.authError&&(r.authError=i.hydrateError(r.authError))),t(e,r)})}})},c.prototype._abortAllPendingEventsDueToBadConnection=function(t){var e,r,n,o,i;for(e in this._callbackMap)this._callbackMap.hasOwnProperty(e)&&(r=this._callbackMap[e],delete this._callbackMap[e],clearTimeout(r.timeout),delete r.timeout,n="Event '"+r.event+"' was aborted due to a bad connection",o=new a(n,t),i=r.callback,delete r.callback,i.call(r,o,r))},c.prototype._onClose=function(t,e){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),this.state==this.OPEN?(this.state=this.CLOSED,u.prototype.emit.call(this,"close",t,e),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state==this.CONNECTING&&(this.state=this.CLOSED,u.prototype.emit.call(this,"openAbort",t,e),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},c.prototype._handleEventObject=function(t,e){var r,n,o;t&&null!=t.event?(r=new h(this,t.cid),u.prototype.emit.call(this,"event",t.event,t.data,r)):t&&null!=t.rid?(n=this._callbackMap[t.rid],n&&(clearTimeout(n.timeout),delete n.timeout,delete this._callbackMap[t.rid],n.callback&&(o=i.hydrateError(t.error),n.callback(o,t.data)))):u.prototype.emit.call(this,"event","raw",e)},c.prototype._onMessage=function(t){var e,r,n;if(u.prototype.emit.call(this,"event","message",t),e=this.decode(t),"#1"==e)this._resetPingTimeout(),this.socket.readyState==this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(e))for(r=e.length,n=0;n<r;n++)this._handleEventObject(e[n],t);else this._handleEventObject(e,t)},c.prototype._onError=function(t){u.prototype.emit.call(this,"error",t)},c.prototype._resetPingTimeout=function(){var t=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(function(){t._onClose(4e3),t.socket.close(4e3)},this.pingTimeout)},c.prototype.getBytesReceived=function(){return this.socket.bytesReceived},c.prototype.close=function(t,e){if(t=t||1e3,this.state==this.OPEN){var r={code:t,data:e};this.emit("#disconnect",r),this._onClose(t,e),this.socket.close(t)}else this.state==this.CONNECTING&&(this._onClose(t,e),this.socket.close(t))},c.prototype.emitObject=function(t,e){var r={event:t.event,data:t.data};return t.callback&&(r.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(r,e),t.cid||null},c.prototype._handleEventAckTimeout=function(t){var e,r;t.cid&&delete this._callbackMap[t.cid],delete t.timeout,e=t.callback,e&&(delete t.callback,r=new s("Event response for '"+t.event+"' timed out"),e.call(t,r,t))},c.prototype.emit=function(t,e,r,n){var o,i,s,a,c=this;return n?(i=r,o=n):r instanceof Function?(i={},o=r):i=r,s={event:t,data:e,callback:o},o&&!i.noTimeout&&(s.timeout=setTimeout(function(){c._handleEventAckTimeout(s)},this.options.ackTimeout)),a=null,(this.state==this.OPEN||i.force)&&(a=this.emitObject(s,i)),a},c.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},c.prototype.decode=function(t){return this.codec.decode(t)},c.prototype.encode=function(t){return this.codec.encode(t)},c.prototype.send=function(t){this.socket.readyState!=this.socket.OPEN?this._onClose(1005):this.socket.send(t)},c.prototype.serializeObject=function(t){var e,r;try{e=this.encode(t)}catch(t){r=t,this._onError(r)}return r?null:e},c.prototype.sendObjectBatch=function(t){var e=this;this._batchSendList.push(t),this._batchTimeout||(this._batchTimeout=setTimeout(function(){if(delete e._batchTimeout,e._batchSendList.length){var t=e.serializeObject(e._batchSendList);null!=t&&e.send(t),e._batchSendList=[]}},this.options.pubSubBatchDuration||0))},c.prototype.sendObjectSingle=function(t){var e=this.serializeObject(t);null!=e&&this.send(e)},c.prototype.sendObject=function(t,e){e&&e.batch?this.sendObjectBatch(t):this.sendObjectSingle(t)},t.exports.SCTransport=c}).call(e,function(){return this}())},function(t,e,r){"use strict";e.decode=e.parse=r(18),e.encode=e.stringify=r(19)},function(t,e){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){var i,s,a,c,u,h,f,p,l,d,y;if(e=e||"&",n=n||"=",i={},"string"!=typeof t||0===t.length)return i;for(s=/\+/g,t=t.split(e),a=1e3,o&&"number"==typeof o.maxKeys&&(a=o.maxKeys),c=t.length,a>0&&c>a&&(c=a),u=0;u<c;++u)h=t[u].replace(s,"%20"),f=h.indexOf(n),f>=0?(p=h.substr(0,f),l=h.substr(f+1)):(p=h,l=""),d=decodeURIComponent(p),y=decodeURIComponent(l),r(i,d)?Array.isArray(i[d])?i[d].push(y):i[d]=[i[d],y]:i[d]=y;return i}},function(t,e){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,o){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(r(t))}).join(e):i+encodeURIComponent(r(t[o]))}).join(e):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(t)):""}},function(t,e){function r(t,e,r){var n;return n=e?new o(t,e):new o(t)}var n,o;n="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}(),o=n.WebSocket||n.MozWebSocket,o&&(r.prototype=o.prototype),t.exports=o?r:null},function(t,e,r){"use strict";t.exports=r(22)},function(t,e){"use strict";function r(){if(arguments.length)return r.from(arguments)}function n(){}var o,i="An argument without append, prepend, or detach methods was given to `List",s=r.prototype;r.of=function(){return r.from.call(this,arguments)},r.from=function(t){var e,r,n,o=new this;if(t&&(e=t.length))for(r=-1;++r<e;)n=t[r],null!==n&&void 0!==n&&o.append(n);return o},s.head=null,s.tail=null,s.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},s.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#prepend`.");var e,r;return e=this,(r=e.head)?r.prepend(t):(t.detach(),t.list=e,e.head=t,t)},s.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#append`.");var e,r,n;return e=this,(n=e.tail)?n.append(t):(r=e.head)?r.append(t):(t.detach(),t.list=e,e.head=t,t)},r.Item=n,o=n.prototype,o.next=null,o.prev=null,o.list=null,o.detach=function(){var t=this,e=t.list,r=t.prev,n=t.next;return e?(e.tail===t&&(e.tail=r),e.head===t&&(e.head=n),e.tail===e.head&&(e.tail=null),r&&(r.next=n),n&&(n.prev=r),t.prev=t.next=t.list=null,t):t},o.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#prepend`.");var e=this,r=e.list,n=e.prev;return!!r&&(t.detach(),n&&(t.prev=n,n.next=t),t.next=e,t.list=r,e.prev=t,e===r.head&&(r.head=t),r.tail||(r.tail=e),t)},o.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#append`.");var e=this,r=e.list,n=e.next;return!!r&&(t.detach(),n&&(t.next=n,n.prev=t),t.prev=e,t.list=r,e.next=t,e!==r.tail&&r.tail||(r.tail=t),t)},t.exports=r},function(t,e,r){var n;(function(t,o){!function(i){var s,a,c,u,h,f,p,l="object"==typeof e&&e,d=("object"==typeof t&&t&&t.exports==l&&t,"object"==typeof o&&o);d.global!==d&&d.window!==d||(i=d),s=function(t){this.message=t},s.prototype=new Error,s.prototype.name="InvalidCharacterError",a=function(t){throw new s(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,h=function(t){var e,r,n,o,i,s;for(t=String(t).replace(u,""),e=t.length,e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded."),r=0,i="",s=-1;++s<e;)o=c.indexOf(t.charAt(s)),n=r%4?64*n+o:o,r++%4&&(i+=String.fromCharCode(255&n>>(-2*r&6)));return i},f=function(t){var e,r,n,o,i,s,u,h;for(t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range."),e=t.length%3,r="",n=-1,h=t.length-e;++n<h;)o=t.charCodeAt(n)<<16,i=t.charCodeAt(++n)<<8,s=t.charCodeAt(++n),u=o+i+s,r+=c.charAt(u>>18&63)+c.charAt(u>>12&63)+c.charAt(u>>6&63)+c.charAt(63&u);return 2==e?(o=t.charCodeAt(n)<<8,i=t.charCodeAt(++n),u=o+i,r+=c.charAt(u>>10)+c.charAt(u>>4&63)+c.charAt(u<<2&63)+"="):1==e&&(u=t.charCodeAt(n),r+=c.charAt(u>>2)+c.charAt(u<<4&63)+"=="),r},p={encode:f,decode:h,version:"0.1.0"},n=function(){return p}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,r(24)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){(function(e){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function r(n,o,i,s,f){function p(n,i){var g,E,m,b,w,v,T,k,S,_;if(null===n)return null;if(0===i)return n;if("object"!=typeof n)return n;if(t(n,c))g=new c;else if(t(n,u))g=new u;else if(t(n,h))g=new h(function(t,e){n.then(function(e){t(p(e,i-1))},function(t){e(p(t,i-1))})});else if(r.__isArray(n))g=[];else if(r.__isRegExp(n))g=new RegExp(n.source,a(n)),n.lastIndex&&(g.lastIndex=n.lastIndex);else if(r.__isDate(n))g=new Date(n.getTime());else{if(y&&e.isBuffer(n))return g=new e(n.length),n.copy(g),g;t(n,Error)?g=Object.create(n):"undefined"==typeof s?(E=Object.getPrototypeOf(n),g=Object.create(E)):(g=Object.create(s),E=s)}if(o){if(m=l.indexOf(n),m!=-1)return d[m];l.push(n),d.push(g)}t(n,c)&&n.forEach(function(t,e){var r=p(e,i-1),n=p(t,i-1);g.set(r,n)}),t(n,u)&&n.forEach(function(t){var e=p(t,i-1);g.add(e)});for(b in n)E&&(w=Object.getOwnPropertyDescriptor(E,b)),w&&null==w.set||(g[b]=p(n[b],i-1));if(Object.getOwnPropertySymbols)for(v=Object.getOwnPropertySymbols(n),b=0;b<v.length;b++)T=v[b],k=Object.getOwnPropertyDescriptor(n,T),(!k||k.enumerable||f)&&(g[T]=p(n[T],i-1),k.enumerable||Object.defineProperty(g,T,{enumerable:!1}));if(f)for(S=Object.getOwnPropertyNames(n),b=0;b<S.length;b++)_=S[b],k=Object.getOwnPropertyDescriptor(n,_),k&&k.enumerable||(g[_]=p(n[_],i-1),Object.defineProperty(g,_,{enumerable:!1}));return g}var l,d,y;return"object"==typeof o&&(i=o.depth,s=o.prototype,f=o.includeNonEnumerable,o=o.circular),l=[],d=[],y="undefined"!=typeof e,"undefined"==typeof o&&(o=!0),"undefined"==typeof i&&(i=1/0),p(n,i)}function n(t){return Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===n(t)}function i(t){return"object"==typeof t&&"[object Array]"===n(t)}function s(t){return"object"==typeof t&&"[object RegExp]"===n(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),
t.multiline&&(e+="m"),e}var c,u,h;try{c=Map}catch(t){c=function(){}}try{u=Set}catch(t){u=function(){}}try{h=Promise}catch(t){h=function(){}}return r.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},r.__objToStr=n,r.__isDate=o,r.__isArray=i,r.__isRegExp=s,r.__getRegExpFlags=a,r}();"object"==typeof t&&t.exports&&(t.exports=r)}).call(e,r(5).Buffer)},function(t,e,r){(function(e){function n(t){var e,r,n,o,i=t.secure?"https://":"http://",s="";if(t.query)if("string"==typeof t.query)s=t.query;else{e=[],r=t.query;for(n in r)r.hasOwnProperty(n)&&e.push(n+"="+r[n]);e.length&&(s="?"+e.join("&"))}return o=t.host?t.host:t.hostname+":"+t.port,i+o+t.path+s}function o(){return e.location&&"https:"==location.protocol}function i(t,r){var n=null==t.secure?r:t.secure;return t.port||(e.location&&location.port?location.port:n?443:80)}function s(t){var r,s,a,u;if(t=t||{},t.host&&t.port)throw new h("The host option should already include the port number in the format hostname:port - Because of this, the host and port options cannot be specified together; use the hostname option instead");r=o(),s={port:i(t,r),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:r,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);return u=n(s),s.multiplex===!1?new c(s):(f[u]?f[u].connect():f[u]=new c(s),f[u])}function a(t){var r,s,a,c,u;t=t||{},r=o(),s={port:i(t,r),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:r};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);c=n(s),u=f[c],u&&u.destroy(),delete f[c]}var c=r(4),u=r(12),h=u.InvalidArgumentsError,f={};t.exports={connect:s,destroy:a,connections:f}}).call(e,function(){return this}())}])})}).call(e,r(4).Buffer)},function(t,e,r){(function(t){"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return a(this,t,e,r)}function a(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?l(t,e,r,n):"string"==typeof e?f(t,e,r):d(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return c(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function h(t,e){if(c(e),t=i(t,e<0?0:0|y(e)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e,r){var n,o;if("string"==typeof r&&""!==r||(r="utf8"),!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');return n=0|E(e,r),t=i(t,n),o=t.write(e,r),o!==n&&(t=t.slice(0,o)),t}function p(t,e){var r,n=e.length<0?0:0|y(e.length);for(t=i(t,n),r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=p(t,e),t}function d(t,e){if(s.isBuffer(e)){var r=0|y(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?i(t,0):p(t,e);if("Buffer"===e.type&&et(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function E(t,e){var r,n;if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;if("string"!=typeof t&&(t=""+t),r=t.length,0===r)return 0;for(n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return z(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return P(this,e,r);case"ascii":return B(this,e,r);case"latin1":case"binary":return I(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,o);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,o){function i(t,e){return 1===h?t[e]:t.readUInt16BE(e*h)}var s,a,c,u,h=1,f=t.length,p=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;h=2,f/=2,p/=2,r/=2}if(o)for(a=-1,s=r;s<f;s++)if(i(t,s)===i(e,a===-1?0:s-a)){if(a===-1&&(a=s),s-a+1===p)return a*h}else a!==-1&&(s-=s-a),a=-1;else for(r+p>f&&(r=f-p),s=r;s>=0;s--){for(c=!0,u=0;u<p;u++)if(i(t,s+u)!==i(e,u)){c=!1;break}if(c)return s}return-1}function T(t,e,r,n){var o,i,s,a;if(r=Number(r)||0,o=t.length-r,n?(n=Number(n),n>o&&(n=o)):n=o,i=e.length,i%2!==0)throw new TypeError("Invalid hex string");for(n>i/2&&(n=i/2),s=0;s<n;++s){if(a=parseInt(e.substr(2*s,2),16),isNaN(a))return s;t[r+s]=a}return s}function k(t,e,r,n){return V(z(e,t.length-r),t,r,n)}function S(t,e,r,n){return V($(e),t,r,n)}function _(t,e,r,n){return S(t,e,r,n)}function A(t,e,r,n){return V(W(e),t,r,n)}function C(t,e,r,n){return V(J(e,t.length-r),t,r,n)}function R(t,e,r){return 0===e&&r===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,r))}function P(t,e,r){var n,o,i,s,a,c,u,h,f;for(r=Math.min(t.length,r),n=[],o=e;o<r;){if(i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1,o+a<=r)switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],128===(192&c)&&(f=(31&i)<<6|63&c,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],128===(192&c)&&128===(192&u)&&(f=(15&i)<<12|(63&c)<<6|63&u,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],128===(192&c)&&128===(192&u)&&128===(192&h)&&(f=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&h,f>65535&&f<1114112&&(s=f))}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),o+=a}return O(n)}function O(t){var e,r,n=t.length;if(n<=Z)return String.fromCharCode.apply(String,t);for(e="",r=0;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return e}function B(t,e,r){var n,o="";for(r=Math.min(t.length,r),n=e;n<r;++n)o+=String.fromCharCode(127&t[n]);return o}function I(t,e,r){var n,o="";for(r=Math.min(t.length,r),n=e;n<r;++n)o+=String.fromCharCode(t[n]);return o}function U(t,e,r){var n,o,i=t.length;for((!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i),n="",o=e;o<r;++o)n+=H(t[o]);return n}function x(t,e,r){var n,o=t.slice(e,r),i="";for(n=0;n<o.length;n+=2)i+=String.fromCharCode(o[n]+256*o[n+1]);return i}function N(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function M(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Y(t,e,r,n,o){return o||M(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),tt.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return o||M(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),tt.write(t,e,r,n,52,8),r+8}function G(t){if(t=q(t).replace(K,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var r,n,o,i,s;for(e=e||1/0,n=t.length,o=null,i=[],s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function $(t){var e,r=[];for(e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function J(t,e){var r,n,o,i,s=[];for(i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,s.push(o),s.push(n);return s}function W(t){return Q.toByteArray(G(t))}function V(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function X(t){return t!==t}var Z,K,Q=r(5),tt=r(6),et=r(7);e.Buffer=s,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,r){return a(null,t,e,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,r){return u(null,t,e,r)},s.allocUnsafe=function(t){return h(null,t)},s.allocUnsafeSlow=function(t){return h(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){var r,n,o,i;if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){var r,n,o,i;if(!et(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;for(n=s.allocUnsafe(e),o=0,r=0;r<t.length;++r){if(i=t[r],!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},s.byteLength=E,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t,e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(t=0;t<e;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var t,e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.swap64=function(){var t,e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,r,n,o){var i,a,c,u,h,f;if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(i=o-n,a=r-e,c=Math.min(i,a),u=this.slice(n,o),h=t.slice(e,r),f=0;f<c;++f)if(u[f]!==h[f]){i=u[f],a=h[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},s.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},s.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},s.prototype.write=function(t,e,r,n){var o,i;if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}if(o=this.length-e,(void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(n||(n="utf8"),i=!1;;)switch(n){case"hex":return T(this,t,e,r);case"utf8":case"utf-8":return k(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Z=4096,s.prototype.slice=function(t,e){var r,n,o,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else for(n=e-t,r=new s(n,void 0),o=0;o<n;++o)r[o]=this[o+t];return r},s.prototype.readUIntLE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},s.prototype.readUIntBE=function(t,e,r){var n,o;for(t|=0,e|=0,r||N(t,e,this.length),n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},s.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,r){var n,o,i;for(t|=0,e|=0,r||N(t,e,this.length),n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),tt.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),tt.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),tt.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),tt.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,r,n){var o,i,s;for(t=+t,e|=0,r|=0,n||(o=Math.pow(2,8*r)-1,D(this,t,e,r,o,0)),i=1,s=0,this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},s.prototype.writeUIntBE=function(t,e,r,n){var o,i,s;for(t=+t,e|=0,r|=0,n||(o=Math.pow(2,8*r)-1,D(this,t,e,r,o,0)),i=r-1,s=1,this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},s.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,r,n){var o,i,s,a;for(t=+t,e|=0,n||(o=Math.pow(2,8*r-1),D(this,t,e,r,o-1,-o)),i=0,s=1,a=0,this[e]=255&t;++i<r&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},s.prototype.writeIntBE=function(t,e,r,n){var o,i,s,a;for(t=+t,e|=0,n||(o=Math.pow(2,8*r-1),D(this,t,e,r,o-1,-o)),i=r-1,s=1,a=0,this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+r},s.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,r){return Y(this,t,e,!0,r)},s.prototype.writeFloatBE=function(t,e,r){return Y(this,t,e,!1,r)},s.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},s.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},s.prototype.copy=function(t,e,r,n){var o,i;if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r),o=n-r,this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},s.prototype.fill=function(t,e,r,n){var o,i,a,c;if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length&&(o=t.charCodeAt(0),o<256&&(t=o)),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else for(a=s.isBuffer(t)?t:z(new s(t,n).toString()),c=a.length,i=0;i<r-e;++i)this[i+e]=a[i%c];return this},K=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-r(t)}function o(t){var e,n,o=t.length,i=r(t),s=new h(3*o/4-i),a=i>0?o-4:o,c=0;for(e=0;e<a;e+=4)n=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[c++]=n>>16&255,s[c++]=n>>8&255,s[c++]=255&n;return 2===i?(n=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[c++]=255&n):1===i&&(n=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[c++]=n>>8&255,s[c++]=255&n),s}function i(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,r){var n,o,s=[];for(o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(i(n));return s.join("")}function a(t){var e,r,n,o=t.length,i=o%3,a="",u=[],h=16383;for(r=0,n=o-i;r<n;r+=h)u.push(s(t,r,r+h>n?n:r+h));return 1===i?(e=t[o-1],a+=c[e>>2],a+=c[e<<4&63],a+="=="):2===i&&(e=(t[o-2]<<8)+t[o-1],a+=c[e>>10],a+=c[e>>4&63],a+=c[e<<2&63],a+="="),u.push(a),u.join("")}var c,u,h,f,p,l;for(e.byteLength=n,e.toByteArray=o,e.fromByteArray=a,c=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,l=f.length;p<l;++p)c[p]=f[p],u[f.charCodeAt(p)]=p;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,u=c>>1,h=-7,f=r?o-1:0,p=r?-1:1,l=t[e+f];for(f+=p,i=l&(1<<-h)-1,l>>=-h,h+=a;h>0;i=256*i+t[e+f],f+=p,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=n;h>0;s=256*s+t[e+f],f+=p,h-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:(l?-1:1)*(1/0);s+=Math.pow(2,n),i-=u}return(l?-1:1)*s*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var s,a,c,u=8*i-o-1,h=(1<<u)-1,f=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+f>=1?p/c:p*Math.pow(2,1-f),e*c>=2&&(s++,c/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*c-1)*Math.pow(2,o),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;t[r+l]=255&a,l+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[r+l]=255&s,l+=d,s/=256,u-=8);t[r+l-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){(function(e){function n(t){var e,r,n,o,i=t.secure?"https://":"http://",s="";if(t.query)if("string"==typeof t.query)s=t.query;else{e=[],r=t.query;for(n in r)r.hasOwnProperty(n)&&e.push(n+"="+r[n]);e.length&&(s="?"+e.join("&"))}return o=t.host?t.host:t.hostname+":"+t.port,i+o+t.path+s}function o(){return e.location&&"https:"==location.protocol}function i(t,r){var n=null==t.secure?r:t.secure;return t.port||(e.location&&location.port?location.port:n?443:80)}function s(t){var r,s,a,u;if(t=t||{},t.host&&t.port)throw new h("The host option should already include the port number in the format hostname:port - Because of this, the host and port options cannot be specified together; use the hostname option instead");r=o(),s={port:i(t,r),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:r,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);return u=n(s),s.multiplex===!1?new c(s):(f[u]?f[u].connect():f[u]=new c(s),f[u])}function a(t){var r,s,a,c,u;t=t||{},r=o(),s={port:i(t,r),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:r};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);c=n(s),u=f[c],u&&u.destroy(),delete f[c]}var c=r(3),u=r(9),h=u.InvalidArgumentsError,f={};t.exports={connect:s,destroy:a,connections:f}}).call(e,function(){return this}())},function(t,e,r){function n(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function o(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function i(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!k?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}var v,T=r(10),k=function(){return!this}();n.prototype=Object.create(Error.prototype),o.prototype=Object.create(Error.prototype),i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:n,AuthTokenInvalidError:o,AuthTokenNotBeforeError:i,AuthTokenError:s,SilentMiddlewareBlockedError:a,InvalidActionError:c,InvalidArgumentsError:u,InvalidOptionsError:h,InvalidMessageError:f,SocketProtocolError:p,ServerProtocolError:l,HTTPServerError:d,ResourceLimitError:y,TimeoutError:g,BadConnectionError:E,BrokerError:m,ProcessExitError:b,UnknownError:w},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"},v={domain:1,domainEmitter:1,domainThrown:1},t.exports.dehydrateError=function(t,e){var r,n;if(t&&"object"==typeof t){r={message:t.message},e&&(r.stack=t.stack);for(n in t)v[n]||(r[n]=t[n])}else r="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return T(r)},t.exports.hydrateError=function(t){var e,r=null;if(null!=t)if("object"==typeof t){r=new Error(t.message);for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}else r=t;return r},t.exports.decycle=T},function(t,e){t.exports=function(t){var e=[],r=[];return function t(n,o){var i,s,a;if(!("object"!=typeof n||null===n||n instanceof Boolean||n instanceof Date||n instanceof Number||n instanceof RegExp||n instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===n)return{$ref:r[i]};if(e.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(a=[],i=0;i<n.length;i+=1)a[i]=t(n[i],o+"["+i+"]");else{a={};for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=t(n[s],o+"["+JSON.stringify(s)+"]"));
}return a}return n}(t,"$")}},function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){var r,n,o;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(r=this._callbacks["$"+t],!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){var e,r,n,o;if(this._callbacks=this._callbacks||{},e=[].slice.call(arguments,1),r=this._callbacks["$"+t],r)for(r=r.slice(0),n=0,o=r.length;n<o;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}}])});
//# sourceMappingURL=neolab-socket-client.min.js.map