!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(1)},function(t,e,n){var r=n(2),o=n(24);t.exports.SCSocketCreator=o,t.exports.SCSocket=r,t.exports.Emitter=n(7),t.exports.connect=function(t){return o.connect(t)},t.exports.destroy=function(t){return o.destroy(t)},t.exports.connections=o.connections,t.exports.version="8.0.1"},function(t,e,n){(function(e,r){var o=n(7),i=n(8).SCChannel,s=(n(9).Response,n(12).AuthEngine),a=n(13),c=n(14).SCTransport,u=n(15),h=n(19),p=n(21),l=n(23),f=n(10),d=f.InvalidArgumentsError,y=f.InvalidMessageError,g=f.SocketProtocolError,m=f.TimeoutError,b=f.BadConnectionError,E="undefined"!=typeof window,T=function(t){var n,r,i,c=this;o.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.connectTimeout=t.connectTimeout,this.ackTimeout=t.ackTimeout,this.channelPrefix=t.channelPrefix||null,this.disconnectOnUnload=null==t.disconnectOnUnload||t.disconnectOnUnload,this.authTokenName=t.authTokenName,this.pingTimeout=this.ackTimeout,n=Math.pow(2,31)-1,r=function(t){if(c[t]>n)throw new d("The "+t+" value provided exceeded the maximum amount allowed")},r("connectTimeout"),r("ackTimeout"),r("pingTimeout"),this._localEvents={connect:1,connectAbort:1,disconnect:1,message:1,error:1,raw:1,fail:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new h,this.channels={},this.options=t,this._cid=1,this.options.callIdGenerator=function(){return c._cid++},this.options.autoReconnect&&(null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={}),i=this.options.autoReconnectOptions,null==i.initialDelay&&(i.initialDelay=1e4),null==i.randomness&&(i.randomness=1e4),null==i.multiplier&&(i.multiplier=1.5),null==i.maxDelay&&(i.maxDelay=6e4)),null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new s,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=a,this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=t.query||{},"string"==typeof this.options.query&&(this.options.query=u.parse(this.options.query)),this.options.autoConnect&&this.connect(),this._channelEmitter=new o,E&&this.disconnectOnUnload&&e.addEventListener&&(this._unloadHandler=function(){c.disconnect()},e.addEventListener("beforeunload",this._unloadHandler,!1))};T.prototype=Object.create(o.prototype),T.CONNECTING=T.prototype.CONNECTING=c.prototype.CONNECTING,T.OPEN=T.prototype.OPEN=c.prototype.OPEN,T.CLOSED=T.prototype.CLOSED=c.prototype.CLOSED,T.AUTHENTICATED=T.prototype.AUTHENTICATED="authenticated",T.UNAUTHENTICATED=T.prototype.UNAUTHENTICATED="unauthenticated",T.PENDING=T.prototype.PENDING="pending",T.ignoreStatuses=f.socketProtocolIgnoreStatuses,T.errorStatuses=f.socketProtocolErrorStatuses,T.prototype._privateEventHandlerMap={"#publish":function(t){var e=this._undecorateChannelName(t.channel),n=this.isSubscribed(e,!0);n&&this._channelEmitter.emit(e,t.data)},"#kickOut":function(t){var e=this._undecorateChannelName(t.channel),n=this.channels[e];n&&(o.prototype.emit.call(this,"kickOut",t.message,e),n.emit("kickOut",t.message,e),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(t,e){var n,r=this;t?(n=function(n){n?(e.error(n),r._onSCError(n)):(r._changeToAuthenticatedState(t.token),e.end())},this.auth.saveToken(this.authTokenName,t.token,{},n)):e.error(new y("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){var n=this;this.auth.removeToken(this.authTokenName,function(t,r){t?(e.error(t),n._onSCError(t)):(o.prototype.emit.call(n,"removeAuthToken",r),n._changeToUnauthenticatedStateAndClearTokens(),e.end())})},"#disconnect":function(t){this.transport.close(t.code,t.data)}},T.prototype.getState=function(){return this.state},T.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},T.prototype.deauthenticate=function(t){var e=this;this.auth.removeToken(this.authTokenName,function(n,r){n?e._onSCError(n):(o.prototype.emit.call(e,"removeAuthToken",r),e.state!=e.CLOSED&&e.emit("#removeAuthToken"),e._changeToUnauthenticatedStateAndClearTokens()),t&&t(n)})},T.prototype.connect=T.prototype.open=function(){var t=this;this.state==this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,o.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new c(this.auth,this.codec,this.options),this.transport.on("open",function(e){t.state=t.OPEN,t._onSCOpen(e)}),this.transport.on("error",function(e){t._onSCError(e)}),this.transport.on("close",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n)}),this.transport.on("openAbort",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n,!0)}),this.transport.on("event",function(e,n,r){t._onSCEvent(e,n,r)}))},T.prototype.reconnect=function(){this.disconnect(),this.connect()},T.prototype.disconnect=function(t,e){if(t=t||1e3,"number"!=typeof t)throw new d("If specified, the code argument must be a number");this.state==this.OPEN||this.state==this.CONNECTING?this.transport.close(t,e):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},T.prototype.destroy=function(){this._unloadHandler&&e.removeEventListener("beforeunload",this._unloadHandler,!1),this.disconnect()},T.prototype._changeToUnauthenticatedStateAndClearTokens=function(){var t,e;this.authState!=this.UNAUTHENTICATED&&(t=this.authState,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,e={oldState:t,newState:this.authState},o.prototype.emit.call(this,"authStateChange",e),t==this.AUTHENTICATED&&o.prototype.emit.call(this,"deauthenticate"),o.prototype.emit.call(this,"authTokenChange",this.signedAuthToken))},T.prototype._changeToAuthenticatedState=function(t){var e,n;this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!=this.AUTHENTICATED&&(e=this.authState,this.authState=this.AUTHENTICATED,n={oldState:e,newState:this.authState,signedAuthToken:t,authToken:this.authToken},this.preparingPendingSubscriptions||this.processPendingSubscriptions(),o.prototype.emit.call(this,"authStateChange",n),o.prototype.emit.call(this,"authenticate",t)),o.prototype.emit.call(this,"authTokenChange",t)},T.prototype.decodeBase64=function(t){var n,o;return"undefined"==typeof r?n=e.atob?e.atob(t):p.decode(t):(o=new r(t,"base64"),n=o.toString("utf8")),n},T.prototype.encodeBase64=function(t){var n,o;return"undefined"==typeof r?n=e.btoa?e.btoa(t):p.encode(t):(o=new r(t,"utf8"),n=o.toString("base64")),n},T.prototype._extractAuthTokenData=function(t){var e,n=(t||"").split("."),r=n[1];if(null!=r){e=r;try{return e=this.decodeBase64(e),JSON.parse(e)}catch(t){return e}}return null},T.prototype.getAuthToken=function(){return this.authToken},T.prototype.getSignedAuthToken=function(){return this.signedAuthToken},T.prototype.authenticate=function(t,e){var n=this;this.emit("#authenticate",t,function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=f.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!=r.name&&"TimeoutError"!=r.name&&n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)):n.auth.saveToken(n.authTokenName,t,{},function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(t):n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)})})},T.prototype._tryReconnect=function(t){var e,n,r=this,o=this.connectAttempts++,i=this.options.autoReconnectOptions;null==t||o>0?(n=Math.round(i.initialDelay+(i.randomness||0)*Math.random()),e=Math.round(n*Math.pow(i.multiplier,o))):e=t,e>i.maxDelay&&(e=i.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout(function(){r.connect()},e)},T.prototype._onSCOpen=function(t){var e=this;this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,this.transport.pingTimeout=this.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),o.prototype.emit.call(this,"connect",t,function(){e.processPendingSubscriptions()}),this._flushEmitBuffer()},T.prototype._onSCError=function(t){var e=this;setTimeout(function(){if(e.listeners("error").length<1)throw t;o.prototype.emit.call(e,"error",t)},0)},T.prototype._suspendSubscriptions=function(){var t,e,n;for(n in this.channels)this.channels.hasOwnProperty(n)&&(t=this.channels[n],e=t.state==t.SUBSCRIBED||t.state==t.PENDING?t.PENDING:t.UNSUBSCRIBED,this._triggerChannelUnsubscribe(t,e))},T.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e,n,r,o,i,s=this._emitBuffer.head;s;)e=s.next,n=s.data,clearTimeout(n.timeout),delete n.timeout,s.detach(),s=e,r=n.callback,r&&(delete n.callback,o="Event '"+n.event+"' was aborted due to a bad connection",i=new b(o,t),r.call(n,i,n))},T.prototype._onSCClose=function(t,e,n){var r,i,s=this;this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3==t||4001==t||1005==t?this._tryReconnect(0):1e3!=t&&t<4500&&this._tryReconnect()),n?o.prototype.emit.call(s,"connectAbort",t,e):o.prototype.emit.call(s,"disconnect",t,e),T.ignoreStatuses[t]||(r=e?"Socket connection failed: "+e:"Socket connection failed for unknown reasons",i=new g(T.errorStatuses[t]||r,t),this._onSCError(i))},T.prototype._onSCEvent=function(t,e,n){var r=this._privateEventHandlerMap[t];r?r.call(this,e,n):o.prototype.emit.call(this,t,e,function(){n&&n.callback.apply(n,arguments)})},T.prototype.decode=function(t){return this.transport.decode(t)},T.prototype.encode=function(t){return this.transport.encode(t)},T.prototype._flushEmitBuffer=function(){for(var t,e,n=this._emitBuffer.head;n;)t=n.next,e=n.data,n.detach(),this.transport.emitObject(e),n=t},T.prototype._handleEventAckTimeout=function(t,e){var n,r;e&&e.detach(),delete t.timeout,n=t.callback,n&&(delete t.callback,r=new m("Event response for '"+t.event+"' timed out"),n.call(t,r,t))},T.prototype._emit=function(t,e,n){var r,o,i=this;this.state==this.CLOSED&&this.connect(),r={event:t,callback:n},o=new h.Item,this.options.cloneData?r.data=l(e):r.data=e,o.data=r,r.timeout=setTimeout(function(){i._handleEventAckTimeout(r,o)},this.ackTimeout),this._emitBuffer.append(o),this.state==this.OPEN&&this._flushEmitBuffer()},T.prototype.send=function(t){this.transport.send(t)},T.prototype.emit=function(t,e,n){null==this._localEvents[t]?this._emit(t,e,n):o.prototype.emit.call(this,t,e)},T.prototype.publish=function(t,e,n){var r={channel:this._decorateChannelName(t),data:e};this.emit("#publish",r,n)},T.prototype._triggerChannelSubscribe=function(t,e){var n,r,i=t.name;t.state!=t.SUBSCRIBED&&(n=t.state,t.state=t.SUBSCRIBED,r={channel:i,oldState:n,newState:t.state,subscriptionOptions:e},t.emit("subscribeStateChange",r),t.emit("subscribe",i,e),o.prototype.emit.call(this,"subscribeStateChange",r),o.prototype.emit.call(this,"subscribe",i,e))},T.prototype._triggerChannelSubscribeFail=function(t,e,n){var r=e.name,i=!e.waitForAuth||this.authState==this.AUTHENTICATED;e.state!=e.UNSUBSCRIBED&&i&&(e.state=e.UNSUBSCRIBED,e.emit("subscribeFail",t,r,n),o.prototype.emit.call(this,"subscribeFail",t,r,n))},T.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},T.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},T.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0==t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},T.prototype._trySubscribe=function(t){var e,n,r=this,i=!t.waitForAuth||this.authState==this.AUTHENTICATED;this.state==this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&i&&(e={noTimeout:!0},n={channel:this._decorateChannelName(t.name)},t.waitForAuth&&(e.waitForAuth=!0,n.waitForAuth=e.waitForAuth),t.data&&(n.data=t.data),t.batch&&(e.batch=!0,n.batch=!0),t._pendingSubscriptionCid=this.transport.emit("#subscribe",n,e,function(e){delete t._pendingSubscriptionCid,e?r._triggerChannelSubscribeFail(e,t,n):r._triggerChannelSubscribe(t,n)}),o.prototype.emit.call(this,"subscribeRequest",t.name,n))},T.prototype.subscribe=function(t,e){var n=this.channels[t];return n?e&&n.setOptions(e):(n=new i(t,this,e),this.channels[t]=n),n.state==n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},T.prototype._triggerChannelUnsubscribe=function(t,e){var n,r=t.name,i=t.state;e?t.state=e:t.state=t.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(t),i==t.SUBSCRIBED&&(n={channel:r,oldState:i,newState:t.state},t.emit("subscribeStateChange",n),t.emit("unsubscribe",r),o.prototype.emit.call(this,"subscribeStateChange",n),o.prototype.emit.call(this,"unsubscribe",r))},T.prototype._tryUnsubscribe=function(t){var e,n;this.state==this.OPEN&&(e={noTimeout:!0},t.batch&&(e.batch=!0),this._cancelPendingSubscribeCallback(t),n=this._decorateChannelName(t.name),this.transport.emit("#unsubscribe",n,e))},T.prototype.unsubscribe=function(t){var e=this.channels[t];e&&e.state!=e.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},T.prototype.channel=function(t,e){var n=this.channels[t];return n||(n=new i(t,this,e),this.channels[t]=n),n},T.prototype.destroyChannel=function(t){var e=this.channels[t];e.unwatch(),e.unsubscribe(),delete this.channels[t]},T.prototype.subscriptions=function(t){var e,n,r,o=[];for(r in this.channels)this.channels.hasOwnProperty(r)&&(e=this.channels[r],n=t?e&&(e.state==e.SUBSCRIBED||e.state==e.PENDING):e&&e.state==e.SUBSCRIBED,n&&o.push(r));return o},T.prototype.isSubscribed=function(t,e){var n=this.channels[t];return e?!!n&&(n.state==n.SUBSCRIBED||n.state==n.PENDING):!!n&&n.state==n.SUBSCRIBED},T.prototype.processPendingSubscriptions=function(){var t,e,n,r=this;this.preparingPendingSubscriptions=!1,t=[];for(e in this.channels)this.channels.hasOwnProperty(e)&&(n=this.channels[e],n.state==n.PENDING&&t.push(n));t.sort(function(t,e){var n=t.priority||0,r=e.priority||0;return n>r?-1:n<r?1:0}),t.forEach(function(t){r._trySubscribe(t)})},T.prototype.watch=function(t,e){if("function"!=typeof e)throw new d("No handler function was provided");this._channelEmitter.on(t,e)},T.prototype.unwatch=function(t,e){e?this._channelEmitter.removeListener(t,e):this._channelEmitter.removeAllListeners(t)},T.prototype.watchers=function(t){return this._channelEmitter.listeners(t)},t.exports=T}).call(e,function(){return this}(),n(3).Buffer)},function(t,e,n){(function(t){"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function o(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,r):"string"==typeof e?p(t,e,n):d(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return c(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function h(t,e){if(c(e),t=i(t,e<0?0:0|y(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){var r,o;if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');return r=0|m(e,n),t=i(t,r),o=t.write(e,n),o!==r&&(t=t.slice(0,o)),t}function l(t,e){var n,r=e.length<0?0:0|y(e.length);for(t=i(t,r),n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=l(t,e),t}function d(t,e){if(s.isBuffer(e)){var n=0|y(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||V(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&et(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),s.alloc(+t)}function m(t,e){var n,r;if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;if("string"!=typeof t&&(t=""+t),n=t.length,0===n)return 0;for(r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return B(this,e,n);case"latin1":case"binary":return N(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function E(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function T(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,o);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,r,o){function i(t,e){return 1===h?t[e]:t.readUInt16BE(e*h)}var s,a,c,u,h=1,p=t.length,l=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;h=2,p/=2,l/=2,n/=2}if(o)for(a=-1,s=n;s<p;s++)if(i(t,s)===i(e,a===-1?0:s-a)){if(a===-1&&(a=s),s-a+1===l)return a*h}else a!==-1&&(s-=s-a),a=-1;else for(n+l>p&&(n=p-l),s=n;s>=0;s--){for(c=!0,u=0;u<l;u++)if(i(t,s+u)!==i(e,u)){c=!1;break}if(c)return s}return-1}function v(t,e,n,r){var o,i,s,a;if(n=Number(n)||0,o=t.length-n,r?(r=Number(r),r>o&&(r=o)):r=o,i=e.length,i%2!==0)throw new TypeError("Invalid hex string");for(r>i/2&&(r=i/2),s=0;s<r;++s){if(a=parseInt(e.substr(2*s,2),16),isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return K(z(e,t.length-n),t,n,r)}function k(t,e,n,r){return K($(e),t,n,r)}function _(t,e,n,r){return k(t,e,n,r)}function A(t,e,n,r){return K(J(e),t,n,r)}function C(t,e,n,r){return K(W(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function P(t,e,n){var r,o,i,s,a,c,u,h,p;for(n=Math.min(t.length,n),r=[],o=e;o<n;){if(i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1,o+a<=n)switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],128===(192&c)&&(p=(31&i)<<6|63&c,p>127&&(s=p));break;case 3:c=t[o+1],u=t[o+2],128===(192&c)&&128===(192&u)&&(p=(15&i)<<12|(63&c)<<6|63&u,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],128===(192&c)&&128===(192&u)&&128===(192&h)&&(p=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&h,p>65535&&p<1114112&&(s=p))}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=a}return R(r)}function R(t){var e,n,r=t.length;if(r<=X)return String.fromCharCode.apply(String,t);for(e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=X));return e}function B(t,e,n){var r,o="";for(n=Math.min(t.length,n),r=e;r<n;++r)o+=String.fromCharCode(127&t[r]);return o}function N(t,e,n){var r,o="";for(n=Math.min(t.length,n),r=e;r<n;++r)o+=String.fromCharCode(t[r]);return o}function I(t,e,n){var r,o,i=t.length;for((!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i),r="",o=e;o<n;++o)r+=q(t[o]);return r}function U(t,e,n){var r,o=t.slice(e,n),i="";for(r=0;r<o.length;r+=2)i+=String.fromCharCode(o[r]+256*o[r+1]);return i}function x(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,o,i){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function j(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function M(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,o){return o||M(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),tt.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,o){return o||M(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),tt.write(t,e,n,r,52,8),n+8}function G(t){if(t=H(t).replace(Z,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n,r,o,i,s;for(e=e||1/0,r=t.length,o=null,i=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(t){var e,n=[];for(e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}function W(t,e){var n,r,o,i,s=[];for(i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,o=n%256,s.push(o),s.push(r);return s}function J(t){return Q.toByteArray(G(t))}function K(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function V(t){return t!==t}var X,Z,Q=n(4),tt=n(5),et=n(6);e.Buffer=s,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=o(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return u(null,t,e,n)},s.allocUnsafe=function(t){return h(null,t)},s.allocUnsafeSlow=function(t){return h(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){var n,r,o,i;if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){var n,r,o,i;if(!et(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;for(r=s.allocUnsafe(e),o=0,n=0;n<t.length;++n){if(i=t[n],!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t,e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(t=0;t<e;t+=2)E(this,t,t+1);return this},s.prototype.swap32=function(){var t,e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},s.prototype.swap64=function(){var t,e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):b.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,o){var i,a,c,u,h,p;if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(i=o-r,a=n-e,c=Math.min(i,a),u=this.slice(r,o),h=t.slice(e,n),p=0;p<c;++p)if(u[p]!==h[p]){i=u[p],a=h[p];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},s.prototype.indexOf=function(t,e,n){return T(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return T(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){var o,i;if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}if(o=this.length-e,(void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),i=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},X=4096,s.prototype.slice=function(t,e){var n,r,o,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=s.prototype;else for(r=e-t,n=new s(r,void 0),o=0;o<r;++o)n[o]=this[o+t];return n},s.prototype.readUIntLE=function(t,e,n){var r,o,i;for(t|=0,e|=0,n||x(t,e,this.length),r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},s.prototype.readUIntBE=function(t,e,n){var r,o;for(t|=0,e|=0,n||x(t,e,this.length),r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},s.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){var r,o,i;for(t|=0,e|=0,n||x(t,e,this.length),r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){var r,o,i;for(t|=0,e|=0,n||x(t,e,this.length),r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},s.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),tt.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),tt.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),tt.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),tt.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){var o,i,s;for(t=+t,e|=0,n|=0,r||(o=Math.pow(2,8*n)-1,D(this,t,e,n,o,0)),i=1,s=0,this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){var o,i,s;for(t=+t,e|=0,n|=0,r||(o=Math.pow(2,8*n)-1,D(this,t,e,n,o,0)),i=n-1,s=1,this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,
this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){var o,i,s,a;for(t=+t,e|=0,r||(o=Math.pow(2,8*n-1),D(this,t,e,n,o-1,-o)),i=0,s=1,a=0,this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){var o,i,s,a;for(t=+t,e|=0,r||(o=Math.pow(2,8*n-1),D(this,t,e,n,o-1,-o)),i=n-1,s=1,a=0,this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){var o,i;if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");if(r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n),o=r-n,this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){var o,i,a,c;if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length&&(o=t.charCodeAt(0),o<256&&(t=o)),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else for(a=s.isBuffer(t)?t:z(new s(t,r).toString()),c=a.length,i=0;i<n-e;++i)this[i+e]=a[i%c];return this},Z=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function o(t){var e,r,o=t.length,i=n(t),s=new h(3*o/4-i),a=i>0?o-4:o,c=0;for(e=0;e<a;e+=4)r=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[c++]=r>>16&255,s[c++]=r>>8&255,s[c++]=255&r;return 2===i?(r=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[c++]=255&r):1===i&&(r=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[c++]=r>>8&255,s[c++]=255&r),s}function i(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){var r,o,s=[];for(o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(i(r));return s.join("")}function a(t){var e,n,r,o=t.length,i=o%3,a="",u=[],h=16383;for(n=0,r=o-i;n<r;n+=h)u.push(s(t,n,n+h>r?r:n+h));return 1===i?(e=t[o-1],a+=c[e>>2],a+=c[e<<4&63],a+="=="):2===i&&(e=(t[o-2]<<8)+t[o-1],a+=c[e>>10],a+=c[e>>4&63],a+=c[e<<2&63],a+="="),u.push(a),u.join("")}var c,u,h,p,l,f;for(e.byteLength=r,e.toByteArray=o,e.fromByteArray=a,c=[],u=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=p.length;l<f;++l)c[l]=p[l],u[p.charCodeAt(l)]=l;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,h=-7,p=n?o-1:0,l=n?-1:1,f=t[e+p];for(p+=l,i=f&(1<<-h)-1,f>>=-h,h+=a;h>0;i=256*i+t[e+p],p+=l,h-=8);for(s=i&(1<<-h)-1,i>>=-h,h+=r;h>0;s=256*s+t[e+p],p+=l,h-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:(f?-1:1)*(1/0);s+=Math.pow(2,r),i-=u}return(f?-1:1)*s*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,h=(1<<u)-1,p=h>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+p>=1?l/c:l*Math.pow(2,1-p),e*c>=2&&(s++,c/=2),s+p>=h?(a=0,s=h):s+p>=1?(a=(e*c-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[n+f]=255&a,f+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+f]=255&s,f+=d,s/=256,u-=8);t[n+f-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){var n,r,o;if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;if(n=this._callbacks["$"+t],!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){var e,n,r,o;if(this._callbacks=this._callbacks||{},e=[].slice.call(arguments,1),n=this._callbacks["$"+t],n)for(n=n.slice(0),r=0,o=n.length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r=n(7),o=function(t,e,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=t,this.state=this.UNSUBSCRIBED,this.client=e,this.options=n||{},this.setOptions(this.options)};o.prototype=Object.create(r.prototype),o.prototype.setOptions=function(t){t||(t={}),this.waitForAuth=t.waitForAuth||!1,this.batch=t.batch||!1,void 0!==t.data&&(this.data=t.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(t){this.client.subscribe(this.name,t)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(t){return this.client.isSubscribed(this.name,t)},o.prototype.publish=function(t,e){this.client.publish(this.name,t,e)},o.prototype.watch=function(t){this.client.watch(this.name,t)},o.prototype.unwatch=function(t){this.client.unwatch(this.name,t)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},t.exports.SCChannel=o},function(t,e,n){var r=n(10),o=r.InvalidActionError,i=function(t,e){this.socket=t,this.id=e,this.sent=!1};i.prototype._respond=function(t){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(t))},i.prototype.end=function(t){if(this.id){var e={rid:this.id};void 0!==t&&(e.data=t),this._respond(e)}},i.prototype.error=function(t,e){var n,o;this.id&&(n=r.dehydrateError(t),o={rid:this.id,error:n},void 0!==e&&(o.data=e),this._respond(o))},i.prototype.callback=function(t,e){t?this.error(t,e):this.end(e)},t.exports.Response=i},function(t,e,n){function r(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function o(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function i(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function E(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function T(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!w?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}var S,v=n(11),w=function(){return!this}();r.prototype=Object.create(Error.prototype),o.prototype=Object.create(Error.prototype),i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),E.prototype=Object.create(Error.prototype),T.prototype=Object.create(Error.prototype),t.exports={AuthTokenExpiredError:r,AuthTokenInvalidError:o,AuthTokenNotBeforeError:i,AuthTokenError:s,SilentMiddlewareBlockedError:a,InvalidActionError:c,InvalidArgumentsError:u,InvalidOptionsError:h,InvalidMessageError:p,SocketProtocolError:l,ServerProtocolError:f,HTTPServerError:d,ResourceLimitError:y,TimeoutError:g,BadConnectionError:m,BrokerError:b,ProcessExitError:E,UnknownError:T},t.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4e3:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out"},t.exports.socketProtocolIgnoreStatuses={1e3:"Socket closed normally",1001:"Socket hung up"},S={domain:1,domainEmitter:1,domainThrown:1},t.exports.dehydrateError=function(t,e){var n,r;if(t&&"object"==typeof t){n={message:t.message},e&&(n.stack=t.stack);for(r in t)S[r]||(n[r]=t[r])}else n="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return v(n)},t.exports.hydrateError=function(t){var e,n=null;if(null!=t)if("object"==typeof t){n=new Error(t.message);for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e])}else n=t;return n},t.exports.decycle=v},function(t,e){t.exports=function(t){var e=[],n=[];return function t(r,o){var i,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],i=0;i<r.length;i+=1)a[i]=t(r[i],o+"["+i+"]");else{a={};for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=t(r[s],o+"["+JSON.stringify(s)+"]"))}return a}return r}(t,"$")}},function(t,e){(function(e){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var t;try{e.localStorage,e.localStorage.setItem("__scLocalStorageTest",1),e.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},n.prototype.saveToken=function(t,n,r,o){this.isLocalStorageEnabled&&e.localStorage?e.localStorage.setItem(t,n):this._internalStorage[t]=n,o&&o(null,n)},n.prototype.removeToken=function(t,n){var r;this.loadToken(t,function(t,e){r=e}),this.isLocalStorageEnabled&&e.localStorage?e.localStorage.removeItem(t):delete this._internalStorage[t],n&&n(null,r)},n.prototype.loadToken=function(t,n){var r;r=this.isLocalStorageEnabled&&e.localStorage?e.localStorage.getItem(t):this._internalStorage[t]||null,n(null,r)},t.exports.AuthEngine=n}).call(e,function(){return this}())},function(t,e){(function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(t){var e,r=new Uint8Array(t),o=r.length,i="";for(e=0;e<o;e+=3)i+=n[r[e]>>2],i+=n[(3&r[e])<<4|r[e+1]>>4],i+=n[(15&r[e+1])<<2|r[e+2]>>6],i+=n[63&r[e+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},o=function(t,n){if(e.ArrayBuffer&&n instanceof e.ArrayBuffer)return{base64:!0,data:r(n)};if(e.Buffer){if(n instanceof e.Buffer)return{base64:!0,data:n.toString("base64")};if(n&&"Buffer"==n.type&&n.data instanceof Array){var o;return o=e.Buffer.from?e.Buffer.from(n.data):new e.Buffer(n.data),{base64:!0,data:o.toString("base64")}}}return n};t.exports.decode=function(t){if(null==t)return null;if("#1"==t||"#2"==t)return t;var e=t.toString();try{return JSON.parse(e)}catch(t){}return e},t.exports.encode=function(t){return"#1"==t||"#2"==t?t:JSON.stringify(t,o)}}).call(e,function(){return this}())},function(t,e,n){(function(e){var r,o,i,s,a,c,u=n(7),h=n(9).Response,p=n(15);e.WebSocket?(r=e.WebSocket,o=function(t,e){return new r(t)}):(r=n(18),o=function(t,e){return new r(t,null,e)}),i=n(10),s=i.TimeoutError,a=i.BadConnectionError,c=function(t,e,n){this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.open()},c.prototype=Object.create(u.prototype),c.CONNECTING=c.prototype.CONNECTING="connecting",c.OPEN=c.prototype.OPEN="open",c.CLOSED=c.prototype.CLOSED="closed",c.prototype.uri=function(){var t,e,n=this.options.query||{},r=this.options.secure?"wss":"ws";return this.options.timestampRequests&&(n[this.options.timestampParam]=(new Date).getTime()),n=p.encode(n),n.length&&(n="?"+n),this.options.host?t=this.options.host:(e="",this.options.port&&("wss"==r&&443!=this.options.port||"ws"==r&&80!=this.options.port)&&(e=":"+this.options.port),t=this.options.hostname+e),r+"://"+t+this.options.path+n},c.prototype.open=function(){var t,e,n=this;this.state=this.CONNECTING,t=this.uri(),e=o(t,this.options),e.binaryType=this.options.binaryType,this.socket=e,e.onopen=function(){n._onOpen()},e.onclose=function(t){var e;e=null==t.code?1005:t.code,n._onClose(e,t.reason)},e.onmessage=function(t,e){n._onMessage(t.data)},e.onerror=function(t){n.state===n.CONNECTING&&n._onClose(1006)},this._connectTimeoutRef=setTimeout(function(){n._onClose(4007),n.socket.close(4007)},this.connectTimeout)},c.prototype._onOpen=function(){var t=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake(function(e,n){e?(t._onError(e),t._onClose(4003),t.socket.close(4003)):(t.state=t.OPEN,u.prototype.emit.call(t,"open",n),t._resetPingTimeout())})},c.prototype._handshake=function(t){var e=this;this.auth.loadToken(this.authTokenName,function(n,r){if(n)t(n);else{var o={force:!0};e.emit("#handshake",{authToken:r},o,function(e,n){n&&(n.authToken=r,n.authError&&(n.authError=i.hydrateError(n.authError))),t(e,n)})}})},c.prototype._abortAllPendingEventsDueToBadConnection=function(t){var e,n,r,o,i;for(e in this._callbackMap)this._callbackMap.hasOwnProperty(e)&&(n=this._callbackMap[e],delete this._callbackMap[e],clearTimeout(n.timeout),delete n.timeout,r="Event '"+n.event+"' was aborted due to a bad connection",o=new a(r,t),i=n.callback,delete n.callback,i.call(n,o,n))},c.prototype._onClose=function(t,e){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),this.state==this.OPEN?(this.state=this.CLOSED,u.prototype.emit.call(this,"close",t,e),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state==this.CONNECTING&&(this.state=this.CLOSED,u.prototype.emit.call(this,"openAbort",t,e),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},c.prototype._handleEventObject=function(t,e){var n,r,o;t&&null!=t.event?(n=new h(this,t.cid),u.prototype.emit.call(this,"event",t.event,t.data,n)):t&&null!=t.rid?(r=this._callbackMap[t.rid],r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[t.rid],r.callback&&(o=i.hydrateError(t.error),r.callback(o,t.data)))):u.prototype.emit.call(this,"event","raw",e)},c.prototype._onMessage=function(t){var e,n,r;if(u.prototype.emit.call(this,"event","message",t),e=this.decode(t),"#1"==e)this._resetPingTimeout(),this.socket.readyState==this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(e))for(n=e.length,r=0;r<n;r++)this._handleEventObject(e[r],t);else this._handleEventObject(e,t)},c.prototype._onError=function(t){u.prototype.emit.call(this,"error",t)},c.prototype._resetPingTimeout=function(){var t=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(function(){t._onClose(4e3),t.socket.close(4e3)},this.pingTimeout)},c.prototype.getBytesReceived=function(){return this.socket.bytesReceived},c.prototype.close=function(t,e){if(t=t||1e3,this.state==this.OPEN){var n={code:t,data:e};this.emit("#disconnect",n),this._onClose(t,e),this.socket.close(t)}else this.state==this.CONNECTING&&(this._onClose(t,e),this.socket.close(t))},c.prototype.emitObject=function(t,e){var n={event:t.event,data:t.data};return t.callback&&(n.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(n,e),t.cid||null},c.prototype._handleEventAckTimeout=function(t){var e,n;t.cid&&delete this._callbackMap[t.cid],delete t.timeout,e=t.callback,e&&(delete t.callback,n=new s("Event response for '"+t.event+"' timed out"),e.call(t,n,t))},c.prototype.emit=function(t,e,n,r){var o,i,s,a,c=this;return r?(i=n,o=r):n instanceof Function?(i={},o=n):i=n,s={event:t,data:e,callback:o},o&&!i.noTimeout&&(s.timeout=setTimeout(function(){c._handleEventAckTimeout(s)},this.options.ackTimeout)),a=null,(this.state==this.OPEN||i.force)&&(a=this.emitObject(s,i)),a},c.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},c.prototype.decode=function(t){return this.codec.decode(t)},c.prototype.encode=function(t){return this.codec.encode(t)},c.prototype.send=function(t){this.socket.readyState!=this.socket.OPEN?this._onClose(1005):this.socket.send(t)},c.prototype.serializeObject=function(t){var e,n;try{e=this.encode(t)}catch(t){n=t,this._onError(n)}return n?null:e},c.prototype.sendObjectBatch=function(t){var e=this;this._batchSendList.push(t),this._batchTimeout||(this._batchTimeout=setTimeout(function(){if(delete e._batchTimeout,e._batchSendList.length){var t=e.serializeObject(e._batchSendList);null!=t&&e.send(t),e._batchSendList=[]}},this.options.pubSubBatchDuration||0))},c.prototype.sendObjectSingle=function(t){var e=this.serializeObject(t);null!=e&&this.send(e)},c.prototype.sendObject=function(t,e){e&&e.batch?this.sendObjectBatch(t):this.sendObjectSingle(t)},t.exports.SCTransport=c}).call(e,function(){return this}())},function(t,e,n){"use strict";e.decode=e.parse=n(16),e.encode=e.stringify=n(17)},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){var i,s,a,c,u,h,p,l,f,d,y;if(e=e||"&",r=r||"=",i={},"string"!=typeof t||0===t.length)return i;for(s=/\+/g,t=t.split(e),a=1e3,o&&"number"==typeof o.maxKeys&&(a=o.maxKeys),c=t.length,a>0&&c>a&&(c=a),u=0;u<c;++u)h=t[u].replace(s,"%20"),p=h.indexOf(r),p>=0?(l=h.substr(0,p),f=h.substr(p+1)):(l=h,f=""),d=decodeURIComponent(l),y=decodeURIComponent(f),n(i,d)?Array.isArray(i[d])?i[d].push(y):i[d]=[i[d],y]:i[d]=y;return i}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,o){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(o){var i=encodeURIComponent(n(o))+r;return Array.isArray(t[o])?t[o].map(function(t){return i+encodeURIComponent(n(t))}).join(e):i+encodeURIComponent(n(t[o]))}).join(e):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(t)):""}},function(t,e){function n(t,e,n){var r;return r=e?new o(t,e):new o(t)}var r,o;r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}(),o=r.WebSocket||r.MozWebSocket,o&&(n.prototype=o.prototype),t.exports=o?n:null},function(t,e,n){"use strict";t.exports=n(20)},function(t,e){"use strict";function n(){if(arguments.length)return n.from(arguments)}function r(){}var o,i="An argument without append, prepend, or detach methods was given to `List",s=n.prototype;n.of=function(){return n.from.call(this,arguments)},n.from=function(t){var e,n,r,o=new this;if(t&&(e=t.length))for(n=-1;++n<e;)r=t[n],null!==r&&void 0!==r&&o.append(r);return o},s.head=null,s.tail=null,s.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},s.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#prepend`.");var e,n;return e=this,(n=e.head)?n.prepend(t):(t.detach(),t.list=e,e.head=t,t)},s.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(i+"#append`.");var e,n,r;return e=this,(r=e.tail)?r.append(t):(n=e.head)?n.append(t):(t.detach(),t.list=e,e.head=t,t)},n.Item=r,o=r.prototype,o.next=null,o.prev=null,o.list=null,o.detach=function(){var t=this,e=t.list,n=t.prev,r=t.next;return e?(e.tail===t&&(e.tail=n),e.head===t&&(e.head=r),e.tail===e.head&&(e.tail=null),n&&(n.next=r),r&&(r.prev=n),t.prev=t.next=t.list=null,t):t},o.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#prepend`.");var e=this,n=e.list,r=e.prev;return!!n&&(t.detach(),r&&(t.prev=r,r.next=t),t.next=e,t.list=n,e.prev=t,e===n.head&&(n.head=t),n.tail||(n.tail=e),t)},o.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(i+"Item#append`.");var e=this,n=e.list,r=e.next;return!!n&&(t.detach(),r&&(t.next=r,r.prev=t),t.prev=e,t.list=n,e.next=t,e!==n.tail&&n.tail||(n.tail=t),t)},t.exports=n},function(t,e,n){var r;(function(t,o){!function(i){var s,a,c,u,h,p,l,f="object"==typeof e&&e,d=("object"==typeof t&&t&&t.exports==f&&t,"object"==typeof o&&o);d.global!==d&&d.window!==d||(i=d),s=function(t){this.message=t},s.prototype=new Error,s.prototype.name="InvalidCharacterError",a=function(t){throw new s(t)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,h=function(t){var e,n,r,o,i,s;for(t=String(t).replace(u,""),e=t.length,e%4==0&&(t=t.replace(/==?$/,""),e=t.length),(e%4==1||/[^+a-zA-Z0-9\/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded."),n=0,i="",s=-1;++s<e;)o=c.indexOf(t.charAt(s)),r=n%4?64*r+o:o,n++%4&&(i+=String.fromCharCode(255&r>>(-2*n&6)));return i},p=function(t){var e,n,r,o,i,s,u,h;for(t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range."),e=t.length%3,n="",r=-1,h=t.length-e;++r<h;)o=t.charCodeAt(r)<<16,i=t.charCodeAt(++r)<<8,s=t.charCodeAt(++r),u=o+i+s,n+=c.charAt(u>>18&63)+c.charAt(u>>12&63)+c.charAt(u>>6&63)+c.charAt(63&u);return 2==e?(o=t.charCodeAt(r)<<8,i=t.charCodeAt(++r),u=o+i,n+=c.charAt(u>>10)+c.charAt(u>>4&63)+c.charAt(u<<2&63)+"="):1==e&&(u=t.charCodeAt(r),n+=c.charAt(u>>2)+c.charAt(u<<4&63)+"=="),n},l={encode:p,decode:h,version:"0.1.0"},r=function(){return l}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(22)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){(function(e){var n=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}function n(r,o,i,s,p){function l(r,i){var g,m,b,E,T,S,v,w,k,_;if(null===r)return null;if(0===i)return r;if("object"!=typeof r)return r;if(t(r,c))g=new c;else if(t(r,u))g=new u;else if(t(r,h))g=new h(function(t,e){r.then(function(e){t(l(e,i-1))},function(t){e(l(t,i-1))})});else if(n.__isArray(r))g=[];else if(n.__isRegExp(r))g=new RegExp(r.source,a(r)),r.lastIndex&&(g.lastIndex=r.lastIndex);else if(n.__isDate(r))g=new Date(r.getTime());else{if(y&&e.isBuffer(r))return g=new e(r.length),r.copy(g),g;t(r,Error)?g=Object.create(r):"undefined"==typeof s?(m=Object.getPrototypeOf(r),g=Object.create(m)):(g=Object.create(s),m=s)}if(o){if(b=f.indexOf(r),b!=-1)return d[b];f.push(r),d.push(g)}t(r,c)&&r.forEach(function(t,e){var n=l(e,i-1),r=l(t,i-1);g.set(n,r)}),t(r,u)&&r.forEach(function(t){var e=l(t,i-1);g.add(e)});for(E in r)m&&(T=Object.getOwnPropertyDescriptor(m,E)),T&&null==T.set||(g[E]=l(r[E],i-1));if(Object.getOwnPropertySymbols)for(S=Object.getOwnPropertySymbols(r),E=0;E<S.length;E++)v=S[E],w=Object.getOwnPropertyDescriptor(r,v),(!w||w.enumerable||p)&&(g[v]=l(r[v],i-1),w.enumerable||Object.defineProperty(g,v,{enumerable:!1}));if(p)for(k=Object.getOwnPropertyNames(r),E=0;E<k.length;E++)_=k[E],w=Object.getOwnPropertyDescriptor(r,_),w&&w.enumerable||(g[_]=l(r[_],i-1),Object.defineProperty(g,_,{enumerable:!1}));return g}var f,d,y;return"object"==typeof o&&(i=o.depth,s=o.prototype,p=o.includeNonEnumerable,o=o.circular),f=[],d=[],y="undefined"!=typeof e,"undefined"==typeof o&&(o=!0),"undefined"==typeof i&&(i=1/0),l(r,i)}function r(t){return Object.prototype.toString.call(t)}function o(t){return"object"==typeof t&&"[object Date]"===r(t)}function i(t){return"object"==typeof t&&"[object Array]"===r(t)}function s(t){return"object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var c,u,h;try{c=Map}catch(t){c=function(){}}try{u=Set}catch(t){u=function(){}}try{h=Promise}catch(t){h=function(){}}return n.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},n.__objToStr=r,n.__isDate=o,n.__isArray=i,n.__isRegExp=s,n.__getRegExpFlags=a,n}();"object"==typeof t&&t.exports&&(t.exports=n)}).call(e,n(3).Buffer)},function(t,e,n){(function(e){function r(t){var e,n,r,o,i=t.secure?"https://":"http://",s="";if(t.query)if("string"==typeof t.query)s=t.query;else{e=[],n=t.query;for(r in n)n.hasOwnProperty(r)&&e.push(r+"="+n[r]);e.length&&(s="?"+e.join("&"))}return o=t.host?t.host:t.hostname+":"+t.port,i+o+t.path+s}function o(){return e.location&&"https:"==location.protocol}function i(t,n){var r=null==t.secure?n:t.secure;return t.port||(e.location&&location.port?location.port:r?443:80)}function s(t){var n,s,a,u;if(t=t||{},t.host&&t.port)throw new h("The host option should already include the port number in the format hostname:port - Because of this, the host and port options cannot be specified together; use the hostname option instead");n=o(),s={port:i(t,n),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:n,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);return u=r(s),s.multiplex===!1?new c(s):(p[u]?p[u].connect():p[u]=new c(s),p[u])}function a(t){var n,s,a,c,u;t=t||{},n=o(),s={port:i(t,n),hostname:e.location&&location.hostname,path:"/socketcluster/",secure:n};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);c=r(s),u=p[c],u&&u.destroy(),delete p[c]}var c=n(2),u=n(10),h=u.InvalidArgumentsError,p={};t.exports={connect:s,destroy:a,connections:p}}).call(e,function(){return this}())}]);
//# sourceMappingURL=neolab-socket-client.min.js.map